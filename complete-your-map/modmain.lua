local DISP = {}

DISP["ancient_altar"] = (GetModConfigData("Disp_altar") == "Y")
DISP["ancient_altar_broken"] = (GetModConfigData("Disp_altar") == "Y")
DISP["animal_track"] = (GetModConfigData("Disp_tracks") == "Y")
DISP["blue_mushroom"] = (GetModConfigData("Disp_mushroom") == "Y")
DISP["carrot_planted"] = (GetModConfigData("Disp_carrot") == "Y")
DISP["chester_eyebone"] = (GetModConfigData("Disp_chester_eyebone") == "Y")
DISP["dirtpile"] = (GetModConfigData("Disp_tracks") == "Y")
DISP["fireflies"] = (GetModConfigData("Disp_fireflies") == "Y")
DISP["flint"] = (GetModConfigData("Disp_flint") == "Y")
DISP["flower_cave_double"] = (GetModConfigData("Disp_flower_cave") == "Y")
DISP["flower_cave_triple"] = (GetModConfigData("Disp_flower_cave") == "Y")
DISP["green_mushroom"] = (GetModConfigData("Disp_mushroom") == "Y")
DISP["houndbone"] = (GetModConfigData("Disp_bone") == "Y")
DISP["mandrake"] = (GetModConfigData("Disp_mandrake") == "Y")
DISP["marsh_bush"] = (GetModConfigData("Disp_mandrake") == "Y")
DISP["molehill"] = (GetModConfigData("Disp_molehill") == "Y")
DISP["mooseegg"] = (GetModConfigData("Disp_giants") == "Y")
DISP["pighead"] = (GetModConfigData("Disp_pighead") == "Y")
DISP["rabbithole"] = (GetModConfigData("Disp_rabbithole") == "Y")
DISP["red_mushroom"] = (GetModConfigData("Disp_mushroom") == "Y")
DISP["rock2"] = (GetModConfigData("Disp_rock2") == "Y")
DISP["scorched_skeleton"] = (GetModConfigData("Disp_bone") == "Y")
DISP["skeleton"] = (GetModConfigData("Disp_bone") == "Y")
DISP["skeleton_player"] = (GetModConfigData("Disp_bone") == "Y")
DISP["teleportato_box"] = (GetModConfigData("Disp_teleportato") == "Y")
DISP["teleportato_crank"] = (GetModConfigData("Disp_teleportato") == "Y")
DISP["teleportato_potato"] = (GetModConfigData("Disp_teleportato") == "Y")
DISP["teleportato_ring"] = (GetModConfigData("Disp_teleportato") == "Y")
DISP["wall_hay"] = (GetModConfigData("Disp_wall") == "Y")
DISP["wall_moonrock"] = (GetModConfigData("Disp_wall") == "Y")
DISP["wall_ruins"] = (GetModConfigData("Disp_wall") == "Y")
DISP["wall_stone"] = (GetModConfigData("Disp_wall") == "Y")
DISP["wall_wood"] = (GetModConfigData("Disp_wall") == "Y")
DISP["waxwelljournal"] = (GetModConfigData("Disp_waxwelljournal") == "Y")

DISP["babybeefalo"] = (GetModConfigData("Disp_beefalo") == "Y")
DISP["bee"] = (GetModConfigData("Disp_bee") == "Y")
DISP["beefalo"] = (GetModConfigData("Disp_beefalo") == "Y")
DISP["bunnyman"] = (GetModConfigData("Disp_bunnyman") == "Y")
DISP["butterfly"] = (GetModConfigData("Disp_butterfly") == "Y")
DISP["catcoon"] = (GetModConfigData("Disp_catcoons") == "Y")
DISP["crow"] = (GetModConfigData("Disp_bird") == "Y")
DISP["koalefant_albino_base"] = (GetModConfigData("Disp_koalefant") == "Y")
DISP["koalefant_feathered"] = (GetModConfigData("Disp_koalefant") == "Y")
DISP["koalefant_forest"] = (GetModConfigData("Disp_koalefant") == "Y")
DISP["koalefant_frost_base"] = (GetModConfigData("Disp_koalefant") == "Y")
DISP["koalefant_nightmare"] = (GetModConfigData("Disp_koalefant") == "Y")
DISP["koalefant_rocky"] = (GetModConfigData("Disp_koalefant") == "Y")
DISP["koalefant_summer"] = (GetModConfigData("Disp_koalefant") == "Y")
DISP["koalefant_winter"] = (GetModConfigData("Disp_koalefant") == "Y")
DISP["krampus"] = (GetModConfigData("Disp_krampus") == "Y")
DISP["lightninggoat"] = (GetModConfigData("Disp_lightninggoat") == "Y")
DISP["mole"] = (GetModConfigData("Disp_mole") == "Y")
DISP["monkey"] = (GetModConfigData("Disp_monkey") == "Y")
DISP["mossling"] = (GetModConfigData("Disp_giants") == "Y")
DISP["penguin"] = (GetModConfigData("Disp_penguin") == "Y")
DISP["perd"] = (GetModConfigData("Disp_perd") == "Y")
DISP["pigman"] = (GetModConfigData("Disp_pigman") == "Y")
DISP["rabbit"] = (GetModConfigData("Disp_rabbit") == "Y")
DISP["robin"] = (GetModConfigData("Disp_bird") == "Y")
DISP["robin_winter"] = (GetModConfigData("Disp_bird") == "Y")
DISP["slurtle"] = (GetModConfigData("Disp_slurtle") == "Y")
DISP["smallbird"] = (GetModConfigData("Disp_tallbird") == "Y")
DISP["snurtle"] = (GetModConfigData("Disp_slurtle") == "Y")
DISP["spat"] = (GetModConfigData("Disp_koalefant") == "Y")
DISP["teenbird"] = (GetModConfigData("Disp_tallbird") == "Y")
DISP["tentacle_pillar"] = (GetModConfigData("Disp_tentacle") == "Y")

DISP["bat"] = (GetModConfigData("Disp_bat") == "Y")
DISP["bearger"] = (GetModConfigData("Disp_giants") == "Y")
DISP["birchnutdrake"] = (GetModConfigData("Disp_treeguard") == "Y")
DISP["bishop"] = (GetModConfigData("Disp_clockwork") == "Y")
DISP["bishop_nightmare"] = (GetModConfigData("Disp_clockwork") == "Y")
DISP["crawlinghorror"] = (GetModConfigData("Disp_nightmare") == "Y")
DISP["crawlingnightmare"] = (GetModConfigData("Disp_nightmare") == "Y")
DISP["deerclops"] = (GetModConfigData("Disp_giants") == "Y")
DISP["dragonfly"] = (GetModConfigData("Disp_giants") == "Y")
DISP["eyeplant"] = (GetModConfigData("Disp_eyeplant") == "Y")
DISP["firehound"] = (GetModConfigData("Disp_hound") == "Y")
DISP["frog"] = (GetModConfigData("Disp_frog") == "Y")
DISP["ghost"] = (GetModConfigData("Disp_ghost") == "Y")
DISP["hound"] = (GetModConfigData("Disp_hound") == "Y")
DISP["icehound"] = (GetModConfigData("Disp_hound") == "Y")
DISP["killerbee"] = (GetModConfigData("Disp_bee") == "Y")
DISP["knight"] = (GetModConfigData("Disp_clockwork") == "Y")
DISP["knight_nightmare"] = (GetModConfigData("Disp_clockwork") == "Y")
DISP["leif"] = (GetModConfigData("Disp_treeguard") == "Y")
DISP["leif_sparse"] = (GetModConfigData("Disp_treeguard") == "Y")
DISP["littlewalrus"] = (GetModConfigData("Disp_walrus") == "Y")
DISP["merm"] = (GetModConfigData("Disp_merm") == "Y")
DISP["minotaur"] = (GetModConfigData("Disp_minotaur") == "Y")
DISP["moose"] = (GetModConfigData("Disp_giants") == "Y")
DISP["mosquito"] = (GetModConfigData("Disp_mosquito") == "Y")
DISP["nightmarebeak"] = (GetModConfigData("Disp_nightmare") == "Y")
DISP["pigguard"] = (GetModConfigData("Disp_pigman") == "Y")
DISP["rocky"] = (GetModConfigData("Disp_minautor") == "Y")
DISP["rook"] = (GetModConfigData("Disp_clockwork") == "Y")
DISP["rook_nightmare"] = (GetModConfigData("Disp_clockwork") == "Y")
DISP["slurper"] = (GetModConfigData("Disp_slurper") == "Y")
DISP["spider"] = (GetModConfigData("Disp_spider") == "Y")
DISP["spider_dropper"] = (GetModConfigData("Disp_spider") == "Y")
DISP["spider_hider"] = (GetModConfigData("Disp_spider") == "Y")
DISP["spider_spitter"] = (GetModConfigData("Disp_spider") == "Y")
DISP["spider_warrior"] = (GetModConfigData("Disp_spider") == "Y")
DISP["spiderqueen"] = (GetModConfigData("Disp_spiderqueen") == "Y")
DISP["spiderden"] = (GetModConfigData("Disp_spider") == "Y")
DISP["tallbird"] = (GetModConfigData("Disp_tallbird") == "Y")
DISP["tentacle"] = (GetModConfigData("Disp_tentacle") == "Y")
DISP["terrorbeak"] = (GetModConfigData("Disp_nightmare") == "Y")
DISP["walrus"] = (GetModConfigData("Disp_walrus") == "Y")
DISP["warg"] = (GetModConfigData("Disp_koalefant") == "Y")
DISP["worm"] = (GetModConfigData("Disp_worm") == "Y")

Assets = {}

function AddMap(prefab)
	if prefab == "rabbithole" and DISP["rabbit"] then
		table.insert(Assets, Asset("IMAGE", "images/" .. prefab .. "2.tex"))
		table.insert(Assets, Asset("ATLAS", "images/" .. prefab .. "2.xml"))
		AddMinimapAtlas("images/" .. prefab .. "2.xml")
		AddPrefabPostInit(prefab, function(inst)
			inst.entity:AddMiniMapEntity()
			inst.MiniMapEntity:SetIcon(prefab .. "2.tex")
		end)
	else
		table.insert(Assets, Asset("IMAGE", "images/" .. prefab .. ".tex"))
		table.insert(Assets, Asset("ATLAS", "images/" .. prefab .. ".xml"))
		AddMinimapAtlas("images/" .. prefab .. ".xml")
		AddPrefabPostInit(prefab, function(inst)
			inst.entity:AddMiniMapEntity()
			inst.MiniMapEntity:SetIcon(prefab .. ".tex")
		end)
	end
end

prefabs_to_add =
{
	"ancient_altar",
	"ancient_altar_broken",
	"animal_track",
	"blue_mushroom",
	"carrot_planted",
	"chester_eyebone",
	"dirtpile",
	"fireflies",
	"flint",
	"flower_cave_double",
	"flower_cave_triple",
	"green_mushroom",
	"houndbone",
	"mandrake",
	"marsh_bush",
	"molehill",
	"mooseegg",
	"pighead",
	"rabbithole",
	"red_mushroom",
	"rock2",
	"scorched_skeleton",
	"skeleton",
	"skeleton_player",
	"teleportato_box",
	"teleportato_crank",
	"teleportato_potato",
	"teleportato_ring",
	"wall_hay",
	"wall_moonrock",
	"wall_ruins",
	"wall_stone",
	"wall_wood",
	"waxwelljournal",

	"babybeefalo",
	"bee",
	"beefalo",
	"bunnyman",
	"butterfly",
	"catcoon",
	"crow",
	"eyeturret",
	"koalefant_albino_base",
	"koalefant_feathered",
	"koalefant_forest",
	"koalefant_frost_base",
	"koalefant_nightmare",
	"koalefant_rocky",
	"koalefant_summer",
	"koalefant_winter",
	"krampus",
	"lightninggoat",
	"mole",
	"monkey",
	"mossling",
	"penguin",
	"perd",
	"pigman",
	"rabbit",
	"robin",
	"robin_winter",
	"slurtle",
	"smallbird",
	"snurtle",
	"spat",
	"teenbird",
	"tentacle_pillar",
	
	"bat",
	"bearger",
	"birchnutdrake",
	"bishop",
	"bishop_nightmare",
	"crawlinghorror",
	"crawlingnightmare",
	"deerclops",
	"dragonfly",
	"eyeplant",
	"firehound",
	"frog",
	"ghost",
	"hound",
	"icehound",
	"killerbee",
	"knight",
	"knight_nightmare",
	"leif",
	"leif_sparse",
	"littlewalrus",
	"merm",
	"minotaur",
	"moose",
	"mosquito",
	"nightmarebeak",
	"pigguard",
	"rocky",
	"rook",
	"rook_nightmare",
	"slurper",
	"spider",
	"spider_dropper",
	"spider_hider",
	"spider_spitter",
	"spider_warrior",
	"spiderqueen",
	"spiderden",
	"tallbird",
	"tentacle",
	"terrorbeak",
	"walrus",
	"warg",
	"worm",
}

for k,v in pairs(prefabs_to_add) do
	if DISP[v] then
		AddMap(v)
		--print("Displaying " .. v)
	end
end